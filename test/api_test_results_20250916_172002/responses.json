[
    {
        "test_number": 1,
        "timestamp": "2025-09-16 17:20:05",
        "category": "รายได้",
        "question": "รายได้รวมทั้งหมดเท่าไหร่",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 2998,
        "response_size_bytes": 565,
        "request": {
    "question": "รายได้รวมทั้งหมดเท่าไหร่",
    "tenant_id": "company-a"
},
        "response": {"answer":"ผลรวมทั้งหมดคือ **46,307,662.88 บาท**","success":true,"sql_query":"SELECT SUM(total_revenue) as total FROM v_sales WHERE year = '2025' LIMIT 1000;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":2.980731248855591,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 2,
        "timestamp": "2025-09-16 17:20:08",
        "category": "รายได้",
        "question": "รายได้ปี 2024 เป็นเท่าไหร่",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 2717,
        "response_size_bytes": 565,
        "request": {
    "question": "รายได้ปี 2024 เป็นเท่าไหร่",
    "tenant_id": "company-a"
},
        "response": {"answer":"ผลรวมทั้งหมดคือ **12,004,818.00 บาท**","success":true,"sql_query":"SELECT SUM(total_revenue) as total FROM v_sales WHERE year = '2024' LIMIT 1000;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":2.707345962524414,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 3,
        "timestamp": "2025-09-16 17:20:28",
        "category": "รายได้",
        "question": "เปรียบเทียบรายได้ปี 2023 กับ 2024",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 19217,
        "response_size_bytes": 541,
        "request": {
    "question": "เปรียบเทียบรายได้ปี 2023 กับ 2024",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":19.20253562927246,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 4,
        "timestamp": "2025-09-16 17:20:31",
        "category": "รายได้",
        "question": "ยอดขาย overhaul ทั้งหมดเท่าไหร่",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 3028,
        "response_size_bytes": 598,
        "request": {
    "question": "ยอดขาย overhaul ทั้งหมดเท่าไหร่",
    "tenant_id": "company-a"
},
        "response": {"answer":"ผลรวมทั้งหมดคือ **2,152,450.00 บาท**","success":true,"sql_query":"SELECT SUM(total_revenue) as total FROM v_sales WHERE description ILIKE '%overhaul%' AND year = '2025' LIMIT 1000;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":3.01800274848938,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 5,
        "timestamp": "2025-09-16 17:20:38",
        "category": "รายได้",
        "question": "ยอดขาย service ปี 2024",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 6621,
        "response_size_bytes": 541,
        "request": {
    "question": "ยอดขาย service ปี 2024",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":6.608177423477173,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 6,
        "timestamp": "2025-09-16 17:20:41",
        "category": "รายได้",
        "question": "ยอดขาย parts หรืออะไหล่มีเท่าไหร่",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 2940,
        "response_size_bytes": 609,
        "request": {
    "question": "ยอดขาย parts หรืออะไหล่มีเท่าไหร่",
    "tenant_id": "company-a"
},
        "response": {"answer":"ไม่มีข้อมูลที่ตรงกับเงื่อนไข","success":true,"sql_query":"SELECT SUM(total_revenue) as total FROM v_sales WHERE description ILIKE '%parts%' AND year = '2025' LIMIT 1000;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":2.9266974925994873,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 7,
        "timestamp": "2025-09-16 17:20:45",
        "category": "รายได้",
        "question": "ยอดขาย replacement หรือเปลี่ยนอุปกรณ์",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 3106,
        "response_size_bytes": 653,
        "request": {
    "question": "ยอดขาย replacement หรือเปลี่ยนอุปกรณ์",
    "tenant_id": "company-a"
},
        "response": {"answer":"ผลรวมทั้งหมดคือ **262,010.00 บาท**","success":true,"sql_query":"SELECT year, SUM(total_revenue) as total FROM v_sales WHERE description ILIKE '%replacement%' OR description ILIKE '%change%' AND year = '2025' GROUP BY year LIMIT 1000;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":3.0962376594543457,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 8,
        "timestamp": "2025-09-16 17:20:54",
        "category": "รายได้",
        "question": "รายได้แต่ละปีเป็นอย่างไร",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 8614,
        "response_size_bytes": 540,
        "request": {
    "question": "รายได้แต่ละปีเป็นอย่างไร",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":8.60197138786316,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 9,
        "timestamp": "2025-09-16 17:21:33",
        "category": "รายได้",
        "question": "ยอดขายแยกตามประเภทงาน",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 38600,
        "response_size_bytes": 4964,
        "request": {
    "question": "ยอดขายแยกตามประเภทงาน",
    "tenant_id": "company-a"
},
        "response": {"answer":"ตามรายงานยอดขายแยกตามประเภทงานของ Siamtemp แสดงให้เห็นว่า Service มีจำนวนงานมากที่สุดและสร้างรายได้สูงสุด โดยมีรายละเอียดดังนี้:\n\n1. **Service**\n   - จำนวนงาน: 417 งาน\n   - รายได้รวม: 488,463,206.66 บาท\n\n2. **Replacement**\n   - จำนวนงาน: 302 งาน\n   - รายได้รวม: 285,845,719.80 บาท\n\n3. **Overhaul**\n   - จำนวนงาน: 49 งาน\n   - รายได้รวม: 161,780,995.00 บาท\n\n4. **Parts**\n   - จำนวนงาน: 105 งาน\n   - รายได้รวม: 3,443,060.78 บาท\n\n**สรุปและข้อสังเกต:**\n\n- Service เป็นประเภทงานที่มีจำนวนงานมากที่สุด และสร้างรายได้สูงสุด โดยมีจำนวนงาน 417 งาน และรายได้รวม 488,463,206.66 บาท\n- Replacement มีจำนวนงานน้อยกว่า Service แต่สร้างรายได้มากที่สุดเป็นอันดับสอง ซึ่งอาจสะท้อนถึงความต้องการของลูกค้าในการเปลี่ยนแปลงระบบ HVAC อย่างสมบูรณ์\n- Overhaul มีจำนวนงานน้อยที่สุดแต่สร้างรายได้มากเป็นอันดับสาม ซึ่งอาจเนื่องจากงาน overhaul มีความซับซ้อนและใช้ทรัพยากรสูง\n- Parts มีจำนวนงานน้อยที่สุด และสร้างรายได้น้อยที่สุด\n\n**ข้อเสนอแนะ:**\n\n1. **เพิ่มประสิทธิภาพในการบริหารจัดการงาน Service**: เนื่องจากเป็นประเภทงานที่มีความต้องการสูง อาจพิจารณาเพิ่มทรัพยากรหรือปรับปรุงกระบวนการให้รวดเร็วและมีประสิทธิภาพมากขึ้น\n2. **ศึกษาลูกค้า Replacement**: เนื่องจาก Replacement มีรายได้สูง อาจทำการสำรวจเพื่อเข้าใจความต้องการของลูกค้าและพัฒนาผลิตภัณฑ์หรือบริการให้ตรงตามความต้องการ\n3. **พัฒนาการบริหารจัดการงาน Overhaul**: เนื่องจากมีรายได้สูง อาจพิจารณาเพิ่มทรัพยากรหรือปรับปรุงกระบวนการให้มีประสิทธิภาพมากขึ้น\n4. **สนับสนุนงาน Parts**: เนื่องจากเป็นประเภทงานที่มีรายได้น้อย อาจพิจารณาการเพิ่มความหลากหลายของสินค้าหรือบริการเพื่อเพิ่มโอกาสในการขาย\n\nรายงานนี้ช่วยให้เราเข้าใจถึงสถานะปัจจุบันของธุรกิจ HVAC และสามารถใช้ข้อมูลเหล่านี้ในการวางแผนและปรับปรุงกลยุทธ์ทางธุรกิจได้อย่างมีประสิทธิภาพ.","success":true,"sql_query":"SELECT 'Overhaul' as service_type, COUNT(*) as jobs, SUM(overhaul_num) as revenue FROM v_sales WHERE overhaul_num > 0 UNION ALL SELECT 'Service', COUNT(*), SUM(service_num) FROM v_sales WHERE service_num > 0 UNION ALL SELECT 'Parts', COUNT(*), SUM(parts_num) FROM v_sales WHERE parts_num > 0 UNION ALL SELECT 'Replacement', COUNT(*), SUM(replacement_num) FROM v_sales WHERE replacement_num > 0 ORDER BY revenue DESC LIMIT 1000;","results_count":4,"tenant_id":"company-a","user_id":"default","processing_time":38.58907127380371,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 10,
        "timestamp": "2025-09-16 17:21:46",
        "category": "รายได้",
        "question": "รายได้เฉลี่ยต่อปีเท่าไหร่",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 12463,
        "response_size_bytes": 581,
        "request": {
    "question": "รายได้เฉลี่ยต่อปีเท่าไหร่",
    "tenant_id": "company-a"
},
        "response": {"answer":"รายได้เฉลี่ยคือ **180,425.06 บาท**","success":true,"sql_query":"SELECT AVG(total_revenue) as average FROM v_sales WHERE year IN ('2022','2023','2024') LIMIT 1000;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":12.45255994796753,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 11,
        "timestamp": "2025-09-16 17:21:52",
        "category": "รายได้",
        "question": "ปีไหนมีรายได้สูงสุด",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 6513,
        "response_size_bytes": 541,
        "request": {
    "question": "ปีไหนมีรายได้สูงสุด",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":6.503651857376099,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 12,
        "timestamp": "2025-09-16 17:22:01",
        "category": "รายได้",
        "question": "ปีไหนมีรายได้ต่ำสุด",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 8394,
        "response_size_bytes": 541,
        "request": {
    "question": "ปีไหนมีรายได้ต่ำสุด",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":8.379363298416138,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 13,
        "timestamp": "2025-09-16 17:22:05",
        "category": "รายได้",
        "question": "งานที่มีมูลค่าสูงสุดคืองานไหน",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 3043,
        "response_size_bytes": 602,
        "request": {
    "question": "งานที่มีมูลค่าสูงสุดคืองานไหน",
    "tenant_id": "company-a"
},
        "response": {"answer":"ผลรวมทั้งหมดคือ **46,307,662.88 บาท**","success":true,"sql_query":"SELECT year, SUM(total_revenue) as total FROM v_sales WHERE year = '2025' GROUP BY year ORDER BY total DESC LIMIT 1;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":3.031604290008545,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 14,
        "timestamp": "2025-09-16 17:22:08",
        "category": "รายได้",
        "question": "งานที่มีมูลค่าต่ำสุด",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 3123,
        "response_size_bytes": 602,
        "request": {
    "question": "งานที่มีมูลค่าต่ำสุด",
    "tenant_id": "company-a"
},
        "response": {"answer":"ผลรวมทั้งหมดคือ **46,307,662.88 บาท**","success":true,"sql_query":"SELECT year, SUM(total_revenue) as total FROM v_sales WHERE year = '2025' GROUP BY year ORDER BY total ASC LIMIT 1;","results_count":1,"tenant_id":"company-a","user_id":"default","processing_time":3.1079745292663574,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 15,
        "timestamp": "2025-09-16 17:22:14",
        "category": "รายได้",
        "question": "รายได้จาก overhaul ปี 2024",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 5528,
        "response_size_bytes": 541,
        "request": {
    "question": "รายได้จาก overhaul ปี 2024",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":5.515156030654907,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 16,
        "timestamp": "2025-09-16 17:22:20",
        "category": "รายได้",
        "question": "รายได้จาก service ปี 2023 เท่าไหร่",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 6151,
        "response_size_bytes": 541,
        "request": {
    "question": "รายได้จาก service ปี 2023 เท่าไหร่",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":6.140432357788086,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
,
    {
        "test_number": 17,
        "timestamp": "2025-09-16 17:22:31",
        "category": "รายได้",
        "question": "มีงานทั้งหมดกี่งาน",
        "status": "SUCCESS",
        "http_code": 200,
        "response_time_ms": 9843,
        "response_size_bytes": 541,
        "request": {
    "question": "มีงานทั้งหมดกี่งาน",
    "tenant_id": "company-a"
},
        "response": {"answer":"ขออภัย ไม่สามารถสร้าง SQL ได้: local variable 're' referenced before assignment","success":false,"sql_query":null,"results_count":0,"tenant_id":"company-a","user_id":"default","processing_time":9.831465721130371,"ai_system_used":"ultimate_dual_model","intent":null,"entities":null,"data_quality":null,"features_used":null,"conversation_id":null,"session_id":null,"is_followup":false,"resolved_question":null,"suggested_followups":null,"conversation_turn":1,"references_resolved":null}
    }
